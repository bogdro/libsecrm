2007-08-06	Bogdan Drozdowski <bogdandr@op.pl>

	* libsecrm version 0.4 (0.3 lived less than half a day on the net)
	* Switched to GPLv3. New compile macro 'BUF_SIZE' in CFLAGS available.
	  Using #pragmas for better compile-time error checking.
	* lsr_truncate.c: Checking if file is regular or a link instead
	  of checking simply for non-directories. Memory leaks fixed.
	  One function for all actions. Making 'buf' and 'seleced' local
	  helps process/thread-safety. No action is taken if stat() is not
	  available, stat() returns error or file is not a regular file/link.
	  Portability corrections. More error checking. Openeing files in
	  exclusive mode.
	* lsr_unlink.c: Portability corrections. Using stat64/lstat64/fstat64,
	  if the system uses it. Single function for renaming files. Renaming
	  done only if action will be taken, not unconditionally. Sync after
	  each rename. No action is taken if lstat()/fstat() is not available,
	  it returns an error or the object is not a regular file.
	  Workaround an issue with Kate/DCOP: if file name matches
	  ".ICEauthority", the file is NOT wiped and NOT truncated.
	  Workaround an issue with BASH and here-documents: if file name
	  matches "sh-thd-", the file is NOT wiped and NOT truncated. BASH
	  unlinks the file before reading from it.
	* libsecrm.h: Better compile-time macro 'PASSES' handling. Separating
	  64 bit and non-64 bit versions. More 'const'. Conditionally declare
	  renameat().
	* lsr_opens.c (freopen, freopen64): Using ftruncate/64 instead of
	  truncate/64, because the file may have been opened in some kind
	  of exclusive mode and normal truncate would fail as it would need
	  to open the file once more. This also doesn't increase the number
	  of file handles associated with the same file. If getting the file
	  descriptor fails, truncate/64 is used.
	* lsr_opens.c (fdopen): removed, because the original function never
	  wipes any data (man fdopen).
	* doc update with full texts of licences.

2007-07-14	Bogdan Drozdowski <bogdandr@op.pl>

	* libsecrm version 0.2.
	* lsr_unlink.c (unlink, unlinkat): Bugs fixed.
	* lsr_unlink.c: Better error handling. Memory checks.
	* lsr_opens.c: Better error handling.

2007-07-08	Bogdan Drozdowski <bogdandr@op.pl>

	* First release of libsecrm, version 0.1.
	  Replaces the following functions: fopen, freopen, fdopen, open,
	  openat, unlink, unlinkat, truncate, ftruncate (or the 64-bit
	  versions of these, if needed).

